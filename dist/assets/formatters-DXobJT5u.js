const it=[{id:"div-1",name:"Dhaka",nameBn:"ঢাকা"},{id:"div-2",name:"Chittagong",nameBn:"চট্টগ্রাম"},{id:"div-3",name:"Rajshahi",nameBn:"রাজশাহী"},{id:"div-4",name:"Khulna",nameBn:"খুলনা"},{id:"div-5",name:"Barisal",nameBn:"বরিশাল"},{id:"div-6",name:"Sylhet",nameBn:"সিলেট"},{id:"div-7",name:"Rangpur",nameBn:"রংপুর"},{id:"div-8",name:"Mymensingh",nameBn:"ময়মনসিংহ"}],at=[{id:"dist-1",name:"Dhaka",nameBn:"ঢাকা",divisionId:"div-1"},{id:"dist-2",name:"Gazipur",nameBn:"গাজীপুর",divisionId:"div-1"},{id:"dist-3",name:"Narayanganj",nameBn:"নারায়ণগঞ্জ",divisionId:"div-1"},{id:"dist-4",name:"Tangail",nameBn:"টাঙ্গাইল",divisionId:"div-1"},{id:"dist-5",name:"Kishoreganj",nameBn:"কিশোরগঞ্জ",divisionId:"div-1"},{id:"dist-6",name:"Manikganj",nameBn:"মানিকগঞ্জ",divisionId:"div-1"},{id:"dist-7",name:"Munshiganj",nameBn:"মুন্সীগঞ্জ",divisionId:"div-1"},{id:"dist-8",name:"Narsingdi",nameBn:"নরসিংদী",divisionId:"div-1"},{id:"dist-9",name:"Faridpur",nameBn:"ফরিদপুর",divisionId:"div-1"},{id:"dist-10",name:"Gopalganj",nameBn:"গোপালগঞ্জ",divisionId:"div-1"},{id:"dist-11",name:"Madaripur",nameBn:"মাদারীপুর",divisionId:"div-1"},{id:"dist-12",name:"Rajbari",nameBn:"রাজবাড়ী",divisionId:"div-1"},{id:"dist-13",name:"Shariatpur",nameBn:"শরীয়তপুর",divisionId:"div-1"},{id:"dist-14",name:"Chittagong",nameBn:"চট্টগ্রাম",divisionId:"div-2"},{id:"dist-15",name:"Comilla",nameBn:"কুমিল্লা",divisionId:"div-2"},{id:"dist-16",name:"Cox's Bazar",nameBn:"কক্সবাজার",divisionId:"div-2"},{id:"dist-17",name:"Feni",nameBn:"ফেনী",divisionId:"div-2"},{id:"dist-18",name:"Noakhali",nameBn:"নোয়াখালী",divisionId:"div-2"},{id:"dist-19",name:"Lakshmipur",nameBn:"লক্ষ্মীপুর",divisionId:"div-2"},{id:"dist-20",name:"Brahamanbaria",nameBn:"ব্রাহ্মণবাড়িয়া",divisionId:"div-2"},{id:"dist-21",name:"Chandpur",nameBn:"চাঁদপুর",divisionId:"div-2"},{id:"dist-22",name:"Khagrachhari",nameBn:"খাগড়াছড়ি",divisionId:"div-2"},{id:"dist-23",name:"Rangamati",nameBn:"রাঙ্গামাটি",divisionId:"div-2"},{id:"dist-24",name:"Bandarban",nameBn:"বান্দরবান",divisionId:"div-2"},{id:"dist-25",name:"Rajshahi",nameBn:"রাজশাহী",divisionId:"div-3"},{id:"dist-26",name:"Bogra",nameBn:"বগুড়া",divisionId:"div-3"},{id:"dist-27",name:"Pabna",nameBn:"পাবনা",divisionId:"div-3"},{id:"dist-28",name:"Natore",nameBn:"নাটোর",divisionId:"div-3"},{id:"dist-29",name:"Nawabganj",nameBn:"চাঁপাইনবাবগঞ্জ",divisionId:"div-3"},{id:"dist-30",name:"Naogaon",nameBn:"নওগাঁ",divisionId:"div-3"},{id:"dist-31",name:"Joypurhat",nameBn:"জয়পুরহাট",divisionId:"div-3"},{id:"dist-32",name:"Sirajganj",nameBn:"সিরাজগঞ্জ",divisionId:"div-3"},{id:"dist-33",name:"Khulna",nameBn:"খুলনা",divisionId:"div-4"},{id:"dist-34",name:"Jessore",nameBn:"যশোর",divisionId:"div-4"},{id:"dist-35",name:"Satkhira",nameBn:"সাতক্ষীরা",divisionId:"div-4"},{id:"dist-36",name:"Narail",nameBn:"নড়াইল",divisionId:"div-4"},{id:"dist-37",name:"Kushtia",nameBn:"কুষ্টিয়া",divisionId:"div-4"},{id:"dist-38",name:"Meherpur",nameBn:"মেহেরপুর",divisionId:"div-4"},{id:"dist-39",name:"Chuadanga",nameBn:"চুয়াডাঙ্গা",divisionId:"div-4"},{id:"dist-40",name:"Jhenaidah",nameBn:"ঝিনাইদহ",divisionId:"div-4"},{id:"dist-41",name:"Magura",nameBn:"মাগুরা",divisionId:"div-4"},{id:"dist-42",name:"Bagerhat",nameBn:"বাগেরহাট",divisionId:"div-4"},{id:"dist-43",name:"Barisal",nameBn:"বরিশাল",divisionId:"div-5"},{id:"dist-44",name:"Patuakhali",nameBn:"পটুয়াখালী",divisionId:"div-5"},{id:"dist-45",name:"Bhola",nameBn:"ভোলা",divisionId:"div-5"},{id:"dist-46",name:"Pirojpur",nameBn:"পিরোজপুর",divisionId:"div-5"},{id:"dist-47",name:"Jhalokati",nameBn:"ঝালকাঠি",divisionId:"div-5"},{id:"dist-48",name:"Barguna",nameBn:"বরগুনা",divisionId:"div-5"},{id:"dist-49",name:"Sylhet",nameBn:"সিলেট",divisionId:"div-6"},{id:"dist-50",name:"Maulvibazar",nameBn:"মৌলভীবাজার",divisionId:"div-6"},{id:"dist-51",name:"Habiganj",nameBn:"হবিগঞ্জ",divisionId:"div-6"},{id:"dist-52",name:"Sunamganj",nameBn:"সুনামগঞ্জ",divisionId:"div-6"},{id:"dist-53",name:"Rangpur",nameBn:"রংপুর",divisionId:"div-7"},{id:"dist-54",name:"Dinajpur",nameBn:"দিনাজপুর",divisionId:"div-7"},{id:"dist-55",name:"Gaibandha",nameBn:"গাইবান্ধা",divisionId:"div-7"},{id:"dist-56",name:"Kurigram",nameBn:"কুড়িগ্রাম",divisionId:"div-7"},{id:"dist-57",name:"Lalmonirhat",nameBn:"লালমনিরহাট",divisionId:"div-7"},{id:"dist-58",name:"Nilphamari",nameBn:"নীলফামারী",divisionId:"div-7"},{id:"dist-59",name:"Thakurgaon",nameBn:"ঠাকুরগাঁও",divisionId:"div-7"},{id:"dist-60",name:"Panchagarh",nameBn:"পঞ্চগড়",divisionId:"div-7"},{id:"dist-61",name:"Mymensingh",nameBn:"ময়মনসিংহ",divisionId:"div-8"},{id:"dist-62",name:"Jamalpur",nameBn:"জামালপুর",divisionId:"div-8"},{id:"dist-63",name:"Netrakona",nameBn:"নেত্রকোনা",divisionId:"div-8"},{id:"dist-64",name:"Sherpur",nameBn:"শেরপুর",divisionId:"div-8"}],a="party-2",l="party-4",I="party-1",C="party-3",nt="party-5",V="party-6",et="party-7",J="party-8",dt=[["dist-1","Dhaka","div-1",I,I,I,I,I,a,a,l],["dist-2","Gazipur","div-1",a,a,a,l],["dist-3","Narayanganj","div-1",a,a,l],["dist-4","Tangail","div-1",a,a,C],["dist-5","Kishoreganj","div-1",l,l,a],["dist-6","Manikganj","div-1",I,I],["dist-7","Munshiganj","div-1",a,a],["dist-8","Narsingdi","div-1",I,I],["dist-9","Faridpur","div-1",C,C,a],["dist-10","Gopalganj","div-1",I,I],["dist-11","Madaripur","div-1",C,C],["dist-12","Rajbari","div-1",a,a],["dist-13","Shariatpur","div-1",l,l],["dist-14","Chittagong","div-2",a,a,a,a,l,V],["dist-15","Comilla","div-2",a,a,a,l],["dist-16","Cox's Bazar","div-2",l,l],["dist-17","Feni","div-2",l,l],["dist-18","Noakhali","div-2",l,l,a],["dist-19","Lakshmipur","div-2",a,a],["dist-20","Brahamanbaria","div-2",l,l,a],["dist-21","Chandpur","div-2",a,a,l],["dist-22","Khagrachhari","div-2",a],["dist-23","Rangamati","div-2",C],["dist-24","Bandarban","div-2",et],["dist-25","Rajshahi","div-3",a,a,I],["dist-26","Bogra","div-3",a,a,l],["dist-27","Pabna","div-3",a,a,I],["dist-28","Natore","div-3",C,C],["dist-29","Nawabganj","div-3",l,l],["dist-30","Naogaon","div-3",a,a,V],["dist-31","Joypurhat","div-3",nt],["dist-32","Sirajganj","div-3",a,a,l],["dist-33","Khulna","div-4",a,a,l],["dist-34","Jessore","div-4",a,a,I],["dist-35","Satkhira","div-4",l,l],["dist-36","Narail","div-4",I],["dist-37","Kushtia","div-4",a,a,l],["dist-38","Meherpur","div-4",I],["dist-39","Chuadanga","div-4",a],["dist-40","Jhenaidah","div-4",C,C],["dist-41","Magura","div-4",C],["dist-42","Bagerhat","div-4",J,J],["dist-43","Barisal","div-5",C,C,a],["dist-44","Patuakhali","div-5",a,a],["dist-45","Bhola","div-5",l,l],["dist-46","Pirojpur","div-5",a],["dist-47","Jhalokati","div-5",C],["dist-48","Barguna","div-5",V],["dist-49","Sylhet","div-6",l,l,a],["dist-50","Maulvibazar","div-6",l,l],["dist-51","Habiganj","div-6",l,l],["dist-52","Sunamganj","div-6",a,a],["dist-53","Rangpur","div-7",a,a,I],["dist-54","Dinajpur","div-7",a,a,l],["dist-55","Gaibandha","div-7",I,I],["dist-56","Kurigram","div-7",I,I],["dist-57","Lalmonirhat","div-7",a,a],["dist-58","Nilphamari","div-7",I,I],["dist-59","Thakurgaon","div-7",J],["dist-60","Panchagarh","div-7",V],["dist-61","Mymensingh","div-8",a,a,l,V],["dist-62","Jamalpur","div-8",a,a,C],["dist-63","Netrakona","div-8",I,I],["dist-64","Sherpur","div-8",a,a]],k=[],O=[];for(const t of dt){const[d,i,s,...e]=t;for(let o=0;o<e.length;o++)k.push({name:`${i}-${o+1}`,seatNumber:o+1,divisionId:s,districtId:d}),O.push(e[o])}function Z(t){switch(t){case a:return l;case l:return a;case I:return a;case C:return a;default:return a}}const st=(()=>{const t=[];for(let i=0;i<45;i++)t.push(1);for(let i=0;i<15;i++)t.push(.8);for(let i=0;i<15;i++)t.push(.7);for(let i=0;i<8;i++)t.push(.6);for(let i=0;i<7;i++)t.push(.4);const d=k.length-t.length;for(let i=0;i<d;i++)t.push(0);return t})();let w=42;function G(){return w=(w*16807+0)%2147483647,(w-1)/2147483646}function E(t,d){return Math.floor(G()*(d-t+1))+t}function _(t){return t[Math.floor(G()*t.length)]}let x=[...it],K=[...at],F=[{id:"party-1",name:"National Citizen Party",abbreviation:"NCP",color:"#006A4E"},{id:"party-2",name:"Bangladesh Nationalist Party",abbreviation:"BNP",color:"#E8112D"},{id:"party-3",name:"Jatiya Party",abbreviation:"JP",color:"#FFD700"},{id:"party-4",name:"Jamaat-e-Islami",abbreviation:"JI",color:"#008000"},{id:"party-5",name:"Jatiya Samajtantrik Dal",abbreviation:"JSD",color:"#FF6347"},{id:"party-6",name:"Workers Party",abbreviation:"WP",color:"#CC0000"},{id:"party-7",name:"Bangladesh Tarikat Federation",abbreviation:"BTF",color:"#4169E1"},{id:"party-8",name:"Gono Forum",abbreviation:"GF",color:"#800080"},{id:"party-9",name:"Nagorik Oikya",abbreviation:"NO",color:"#2F4F4F"},{id:"party-10",name:"Independent",abbreviation:"IND",color:"#808080"}];function ot(){const t={};for(const d of F)t[d.id]=d;return t}let U=ot();const z=["Abdul","Mohammad","Md.","Shah","Kazi","Syed","Anwar","Rafiq","Kamal","Fazlul","Nurul","Mizanur","Shamsul","Jahangir","Tariqul","Hasanul","Obaidul","Salahuddin","Amirul","Habibur","Matiur","Lutfur","Shahjahan","Iqbal","Ataur","Mosharraf","Delwar","Ziaur","Selim","Faruk"],q=["Rahman","Ahmed","Islam","Hossain","Khan","Chowdhury","Alam","Uddin","Miah","Bhuiyan","Sarkar","Siddique","Talukder","Kabir","Haque","Karim","Mallik","Mondal","Biswas","Akter","Begum","Khatun","Sultana","Jahan"],rt=["Hasina","Khaleda","Rawshan","Sayeda","Fatema","Nasrin","Tahmina","Shamima","Kohinoor","Jahanara","Salma","Rehana","Anjuman","Parveen","Kamrun","Farida","Bilkis","Shahida"],lt=["Begum","Khatun","Sultana","Jahan","Akter","Chowdhury","Ahmed","Islam","Rahman","Hossain"],mt=[{name:"Nahid Islam",partyId:"party-1",seatHint:"seat-1"},{name:"Khaleda Zia",partyId:"party-2",seatHint:"seat-2"},{name:"Dr. Kamal Hossain",partyId:"party-8",seatHint:"seat-3"},{name:"Hasnat Abdullah",partyId:"party-1",seatHint:"seat-4"},{name:"Mirza Fakhrul Islam Alamgir",partyId:"party-2",seatHint:"seat-6"},{name:"GM Quader",partyId:"party-3",seatHint:"seat-10"},{name:"Motiur Rahman Chowdhury",partyId:"party-3",seatHint:"seat-14"},{name:"Hasanul Haq Inu",partyId:"party-5",seatHint:"seat-5"},{name:"Rashed Khan Menon",partyId:"party-6",seatHint:"seat-9"},{name:"Sarjis Alam",partyId:"party-1",seatHint:"seat-11"}];let Y=0,$=new Set;function ct(){let t=0;for(;t<100;){const s=G()<.2;let e;if(s?e=_(rt)+" "+_(lt):e=_(z)+" "+_(q),!$.has(e))return $.add(e),e;t++}const i=_(z)+" "+_(q)+" "+ ++Y;return $.add(i),i}const W=["Govt.","Model","Ideal","Central","City","National","Jubilee","Peoples","Community","Municipal"],Q=["High School","Primary School","College","Madrasa","Academy","Degree College","Girls School","School & College","Collegiate School","Preparatory School"];let ut=0;function vt(t,d){const i=W[d%W.length],s=Q[d%Q.length];return`${t} ${i} ${s}`}let b=[],P=[],A=[];function ht(){w=42,Y=0,$=new Set,b=[],P=[],A=[];const t=[...st];for(let d=t.length-1;d>0;d--){const i=E(0,d),s=t[d];t[d]=t[i],t[i]=s}for(let d=0;d<k.length;d++){const i=k[d],s=`seat-${d+1}`,e=E(4,7),o=t[d],r=Math.round(e*o);let n="not_started";r===e?n="completed":r>0&&(n="in_progress");const u={id:s,name:i.name,seatNumber:i.seatNumber,divisionId:i.divisionId,districtId:i.districtId,totalCentres:e,reportedCentreCount:r,status:n};b.push(u);const c=E(3,6),h=O[d]||"party-2",p=Z(h),T=[h,p],f=F.filter(m=>m.id!==h&&m.id!==p).map(m=>m.id);for(let m=f.length-1;m>0;m--){const B=E(0,m),y=f[m];f[m]=f[B],f[B]=y}for(let m=0;m<c-2&&m<f.length;m++)T.push(f[m]);const g=[];for(let m=0;m<c;m++){const B=`cand-${d+1}-${m+1}`,y=T[m]||"party-10",M=mt.find(D=>D.seatHint===s&&D.partyId===y),v=M?M.name:ct(),S={id:B,name:v,partyId:y,seatId:s,totalVotes:0};g.push(S),P.push(S)}for(let m=0;m<e;m++){const B=`centre-${++ut}`,y=E(500,3e3),M=m<r,v=[];if(M){const D=E(55,80)/100,H=Math.round(y*D);let L=H;for(let R=0;R<g.length;R++){let N;if(R===0)N=Math.round(H*(E(40,55)/100));else if(R===1)N=Math.round(H*(E(25,35)/100));else if(R===g.length-1)N=Math.max(0,L);else{const tt=L/(g.length-R);N=Math.round(tt*(E(30,100)/100))}N=Math.min(N,L),N=Math.max(N,0),L-=N,v.push({candidateId:g[R].id,votes:N}),g[R].totalVotes+=N}}const S={id:B,name:vt(i.name,m),seatId:s,registeredVoters:y,isReported:M,results:v};A.push(S)}}}ht();let pt=[{id:"admin-1",email:"admin@demo.com",name:"Demo Admin",role:"admin",passwordHash:"demo123"},{id:"admin-2",email:"superadmin@demo.com",name:"Super Admin",role:"superadmin",passwordHash:"super123"}];const X=["CENTRE_RESULT_SUBMITTED","CENTRE_RESULT_UPDATED","SEAT_STATUS_CHANGED","USER_LOGIN","USER_LOGOUT","DATA_EXPORT","RESULT_VERIFIED","RESULT_CORRECTION"];function It(t){const d=new Date("2026-02-04T08:00:00Z"),i=Math.floor(t/50*480);return new Date(d.getTime()+i*6e4).toISOString()}let j=[];function gt(){j=[];const t=k.map(i=>i.name),d=k.length;for(let i=0;i<50;i++){const s=X[i%X.length],e=pt[i%2],o=t[i%t.length];let r="";s==="CENTRE_RESULT_SUBMITTED"?r=`Submitted results for centre ${i+1} in ${o}`:s==="CENTRE_RESULT_UPDATED"?r=`Updated vote counts for centre ${i+1} in ${o}`:s==="SEAT_STATUS_CHANGED"?r=`${o} status changed to in_progress`:s==="USER_LOGIN"?r=`${e.email} logged in`:s==="USER_LOGOUT"?r=`${e.email} logged out`:s==="DATA_EXPORT"?r=`Exported results for ${o}`:s==="RESULT_VERIFIED"?r=`Verified results for centre ${i+1} in ${o}`:s==="RESULT_CORRECTION"&&(r=`Corrected vote tally for centre ${i+1} in ${o}`),j.push({id:`log-${i+1}`,timestamp:It(i),action:s,adminId:e.id,adminEmail:e.email,seatId:`seat-${i%d+1}`,detail:r})}}gt();function ft(){let t=0,d=0,i=0;const s={},e={},o={};for(const c of F)s[c.id]=0,e[c.id]=0,o[c.id]=0;for(const c of b){c.status==="completed"&&d++,c.status!=="not_started"&&i++;const h=P.filter(p=>p.seatId===c.id).sort((p,T)=>T.totalVotes-p.totalVotes);for(const p of h)t+=p.totalVotes,s[p.partyId]=(s[p.partyId]||0)+p.totalVotes;if(h.length>0&&h[0].totalVotes>0){const p=h[0].partyId;c.status==="completed"?e[p]=(e[p]||0)+1:o[p]=(o[p]||0)+1}}let r=0;for(const c of A)r+=c.registeredVoters;const n=r>0?Math.round(t/r*1e4)/100:0,u=F.map(c=>{const h=t>0?Math.round(s[c.id]/t*1e4)/100:0;return{partyId:c.id,name:c.name,abbreviation:c.abbreviation,color:c.color,totalVotes:s[c.id],seatsWon:e[c.id]||0,seatsLeading:o[c.id]||0,voteSharePercent:h}});return u.sort((c,h)=>h.totalVotes-c.totalVotes),{totalVotesCast:t,seatsDeclared:d,seatsReporting:i,turnoutPercent:n,partyStandings:u}}function yt(t={}){const{divisionId:d=null,districtId:i=null,status:s=null,searchQuery:e="",page:o=1,limit:r=10}=t;let n=[...b];if(d&&(n=n.filter(g=>g.divisionId===d)),i&&(n=n.filter(g=>g.districtId===i)),s&&(n=n.filter(g=>g.status===s)),e){const g=e.toLowerCase();n=n.filter(m=>m.name.toLowerCase().includes(g))}const u=n.length,c=Math.max(1,Math.ceil(u/r)),h=Math.max(1,Math.min(o,c)),p=(h-1)*r;return{seats:n.slice(p,p+r).map(g=>{const m=P.filter(M=>M.seatId===g.id).sort((M,v)=>v.totalVotes-M.totalVotes),B=m[0]||null,y=B?U[B.partyId]:null;return{...g,leadingCandidate:B?{name:B.name,partyId:B.partyId,partyName:y?.name||"",partyAbbreviation:y?.abbreviation||"",partyColor:y?.color||"#808080",totalVotes:B.totalVotes}:null,totalVotes:m.reduce((M,v)=>M+v.totalVotes,0)}}),total:u,page:h,totalPages:c}}function Bt(t){const d=b.find(n=>n.id===t);if(!d)return null;const i=P.filter(n=>n.seatId===t).sort((n,u)=>u.totalVotes-n.totalVotes),s=i.reduce((n,u)=>n+u.totalVotes,0),e=i.map(n=>{const u=U[n.partyId];return{id:n.id,name:n.name,partyId:n.partyId,partyName:u?.name||"Unknown",partyColor:u?.color||"#808080",partyAbbreviation:u?.abbreviation||"?",totalVotes:n.totalVotes,votePercent:s>0?Math.round(n.totalVotes/s*1e4)/100:0}}),o=x.find(n=>n.id===d.divisionId),r=K.find(n=>n.id===d.districtId);return{...d,divisionName:o?.name||"",districtName:r?.name||"",totalVotes:s,candidates:e}}function St(t){return A.filter(i=>i.seatId===t).map(i=>{const s=i.results.map(e=>{const o=P.find(n=>n.id===e.candidateId),r=o?U[o.partyId]:null;return{candidateId:e.candidateId,candidateName:o?.name||"Unknown",partyId:o?.partyId||"",partyAbbreviation:r?.abbreviation||"?",partyColor:r?.color||"#808080",votes:e.votes}});return{id:i.id,name:i.name,registeredVoters:i.registeredVoters,isReported:i.isReported,results:s}})}function Ct(){return ft().partyStandings}function Mt(){return b.map(t=>{const d=P.filter(r=>r.seatId===t.id).sort((r,n)=>n.totalVotes-r.totalVotes),i=d[0]||null,s=i?U[i.partyId]:null,e=d.reduce((r,n)=>r+n.totalVotes,0),o=t.totalCentres>0?Math.round(t.reportedCentreCount/t.totalCentres*100):0;return{seatId:t.id,name:t.name,seatNumber:t.seatNumber,divisionId:t.divisionId,districtId:t.districtId,leadingPartyId:i?.partyId||null,leadingPartyColor:s?.color||"#CCCCCC",leadingPartyName:s?.name||"None",completionPercent:o,totalVotes:e}})}function bt(){return[...x]}function Nt(t){return t?K.filter(d=>d.divisionId===t):[...K]}function Tt(){const t=b.length,d=b.filter(n=>n.status!=="not_started").length,i=A.length,s=A.filter(n=>n.isReported).length,e=i>0?Math.round(s/i*100):0,o=x.map(n=>{b.filter(h=>h.divisionId===n.id);const u=A.filter(h=>{const p=b.find(T=>T.id===h.seatId);return p&&p.divisionId===n.id}),c=u.filter(h=>h.isReported).length;return{divisionId:n.id,name:n.name,total:u.length,reported:c,percent:u.length>0?Math.round(c/u.length*100):0}}),r=j.slice().sort((n,u)=>u.timestamp.localeCompare(n.timestamp)).slice(0,10);return{totalSeats:t,seatsWithResults:d,totalCentres:i,centresReported:s,overallPercent:e,divisionProgress:o,recentActivity:r}}function Et(t={},d=1,i=10){const{action:s=null,adminId:e=null,seatId:o=null,searchQuery:r=""}=t;let n=[...j];if(s&&(n=n.filter(f=>f.action===s)),e&&(n=n.filter(f=>f.adminId===e)),o&&(n=n.filter(f=>f.seatId===o)),r){const f=r.toLowerCase();n=n.filter(g=>g.detail.toLowerCase().includes(f)||g.adminEmail.toLowerCase().includes(f))}n.sort((f,g)=>g.timestamp.localeCompare(f.timestamp));const u=n.length,c=Math.max(1,Math.ceil(u/i)),h=Math.max(1,Math.min(d,c)),p=(h-1)*i;return{logs:n.slice(p,p+i),total:u,page:h,totalPages:c}}function Rt(){const t=A.filter(e=>!e.isReported);if(t.length===0)return[];const d=Math.min(t.length,Math.floor(Math.random()*3)+1);for(let e=t.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[o],t[o]=r}const i=t.slice(0,d),s=[];for(const e of i){const o=P.filter(v=>v.seatId===e.seatId),r=Math.random()*.25+.55,n=Math.round(e.registeredVoters*r);let u=n;const c=b.findIndex(v=>v.id===e.seatId),h=O[c]||"party-2",p=Z(h),T=o.find(v=>v.partyId===h),f=o.find(v=>v.partyId===p),g=o.filter(v=>v.partyId!==h&&v.partyId!==p),m=[T,f,...g].filter(Boolean),B=[];for(let v=0;v<m.length;v++){let S;if(v===0)S=Math.round(n*(Math.random()*.15+.4));else if(v===1)S=Math.round(n*(Math.random()*.1+.25));else if(v===m.length-1)S=Math.max(0,u);else{const D=u/(m.length-v);S=Math.round(D*(Math.random()*.7+.3))}S=Math.min(S,u),S=Math.max(S,0),u-=S,B.push({candidateId:m[v].id,votes:S}),m[v].totalVotes+=S}e.isReported=!0,e.results=B;const y=b.find(v=>v.id===e.seatId);y&&(y.reportedCentreCount++,y.reportedCentreCount>=y.totalCentres?y.status="completed":y.status="in_progress");const M={id:`log-sim-${Date.now()}-${e.id}`,timestamp:new Date().toISOString(),action:"CENTRE_RESULT_SUBMITTED",adminId:"admin-1",adminEmail:"admin@demo.com",seatId:e.seatId,detail:`Simulated results for ${e.name} in ${y?.name||e.seatId}`};j.push(M),s.push({centreId:e.id,centreName:e.name,seatId:e.seatId,seatName:y?.name||"",totalVotesAdded:n,results:B})}return s}function At(t){return t==null?"0":Number(t).toLocaleString("en-US")}function Pt(t,d=1){return t==null?"0%":`${Number(t).toFixed(d)}%`}function Dt(t){return t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):""}function _t(t){if(!t)return"";const d=t instanceof Date?t:new Date(t),i=Math.floor((Date.now()-d.getTime())/1e3);return i<60?`${i}s ago`:i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:`${Math.floor(i/86400)}d ago`}export{Pt as a,bt as b,_t as c,Tt as d,Mt as e,At as f,Nt as g,Ct as h,St as i,Bt as j,yt as k,ft as l,Et as m,Dt as n,Rt as s};
